{{document-title title="Set new password"}}
{{page-header title="Set new password"}}

{{#page-body}}
  {{#if resetting}}
    <div class="row">
      <div class="col-sm-6 col-sm-offset-2">
        <h2>Set your new password</h2>
      </div>
    </div>

    <form class="form-horizontal">

      <div class="form-group {{if errors.new_password1 'has-error'}}">
        <label for="inputNewPassword1" class="col-sm-2 control-label">New password</label>
        <div class="col-sm-6">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
            {{input id="inputNewPassword1" class="form-control" type='password' value=new_password1 disabled=isUploading placeholder="Elaborate password"}}
          </div>
          <span class="help-block">{{errors.new_password1}}</span>
        </div>
      </div>

      <div class="form-group {{if errors.new_password2 'has-error'}}">
        <label for="inputNewPassword2" class="col-sm-2 control-label">Confirm new password</label>
        <div class="col-sm-6">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
            {{input id="inputNewPassword2" class="form-control" type='password' value=new_password2 disabled=isUploading placeholder="Same old, same old"}}
          </div>
          <span class="help-block">{{errors.new_password2}}</span>
        </div>
      </div>

      <div class="form-group {{if errors.non_field_errors 'has-error'}}">
        <div class="col-sm-offset-2 col-sm-6">
          <span class="help-block">{{errors.non_field_errors}}</span>
          {{async-button action="upload" class="btn btn-default" default="Set new password"}}
        </div>
      </div>

    </form>
  {{else if resetted}}
    <div class="row">
      <div class="col-sm-6 col-sm-offset-2">
        <h2>New password saved</h2>
        <p>You can try and {{link-to 'sign in' 'login'}} right now.</p>
      </div>
    </div>
  {{else}}
    <div class="row">
      <div class="col-sm-6 col-sm-offset-2">
        <h2>Password reset failed</h2>
        <p>There was a problem. Did you use the <strong>last password-reset link</strong> you received?</p>
      </div>
    </div>
  {{/if}}
{{/page-body}}
